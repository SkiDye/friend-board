# v1.5.0 - PWA Support

웹 UI에서 복사-붙여넣기용 파일입니다.
https://skidye.github.io/friend-board/#/dev-history 에서 "+ 새 히스토리" 클릭 후 아래 내용을 각 필드에 붙여넣으세요.

---

## 버전
v1.5.0

---

## 제목
PWA Support - 웹앱 설치 기능

---

## 내용 (아래 전체를 복사)

📱 **프렌드보드를 진짜 앱처럼 사용하세요!**

## 문제점
❌ 매번 브라우저 열고 북마크 찾아야 함
❌ 브라우저 UI (주소창, 탭)가 공간 차지
❌ 다른 앱처럼 빠르게 접근 불가
❌ 앱 전환기에서 안 보임

## 해결책 - PWA (Progressive Web App) 지원

### 1️⃣ PWA 기본 설정
```json
// manifest.json
{
  "name": "Friend Board - 우리들의 쉼터",
  "short_name": "Friend Board",
  "display": "standalone",
  "theme_color": "#1a1a1a",
  "icons": [...]
}
```

**제공하는 기능**
- Standalone 모드 (브라우저 UI 없음)
- 커스텀 테마 색상
- 앱 이름 및 아이콘
- 세로 모드 고정

### 2️⃣ 원클릭 설치 버튼
```javascript
// App.jsx - 전역 이벤트 캡처
useEffect(() => {
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault()
    window.deferredPrompt = e
  })
}, [])

// About.jsx - 설치 버튼
const handleInstallClick = async () => {
  window.deferredPrompt.prompt()
  const { outcome } = await window.deferredPrompt.userChoice
}
```

**핵심 아이디어**
- `beforeinstallprompt` 이벤트를 App 레벨에서 전역 캡처
- 어느 페이지에서든 설치 버튼 작동
- 브라우저 네이티브 프롬프트 활용

### 3️⃣ 스마트한 브라우저 감지
```javascript
// 인앱 브라우저 감지
const inAppBrowserPatterns = [
  /KAKAOTALK/i,
  /Telegram/i,
  /FBAN|FBAV/i,
  /Instagram/i
]

// 감지 시 맞춤 안내 메시지
if (isInAppBrowser) {
  return "우측 상단 ⋮ → 외부 브라우저로 열기"
}
```

**지원 브라우저**
- ✅ Chrome, Edge, Samsung Internet (Android)
- ✅ Safari (iOS - 수동 설치)
- ❌ 인앱 브라우저 (카카오톡, 텔레그램 등)

### 4️⃣ 부드러운 알림 배너
```javascript
// 위에서 아래로 슬라이드 다운
<div className={`transition-transform duration-300
  ${isAnimating ? 'translate-y-0' : '-translate-y-full'}`}>
  <div className="bg-blue-600 text-white">
    외부 브라우저로 열기 안내
  </div>
</div>
```

**UX 개선**
- 모바일에서 미지원 브라우저 자동 감지
- 위에서 부드럽게 슬라이드 다운
- 한 번 닫으면 다시 안 보임 (localStorage)
- 인앱 브라우저별 맞춤 메시지

## 설치 방법

### Android (Chrome)
1. https://skidye.github.io/friend-board 접속
2. 소개 탭 → **"📲 앱 설치"** 버튼 클릭
3. "설치" 확인
4. 홈 화면에 아이콘 생성!

### iOS (Safari)
1. https://skidye.github.io/friend-board 접속
2. 하단 **공유 버튼(⬆️)** 탭
3. **"홈 화면에 추가"** 선택
4. 홈 화면에 아이콘 생성!

### 카카오톡/텔레그램
1. 우측 상단 **⋮** 메뉴
2. **"외부 브라우저로 열기"** 또는 **"Chrome으로 열기"**
3. Chrome 앱에서 직접 사이트 접속
4. 앱 설치 버튼 클릭!

## 사용된 기술

- **PWA Manifest**: 앱 메타데이터 정의
- **beforeinstallprompt API**: 설치 프롬프트 제어
- **Meta Tags**: iOS Safari 지원
- **User Agent Detection**: 브라우저/디바이스 감지
- **localStorage**: 알림 표시 여부 저장
- **CSS Animations**: 슬라이드 다운 효과
- **window 객체**: 전역 상태 공유

## 개선 결과

✅ **홈 화면 아이콘**: 앱처럼 바로 접근
✅ **전체 화면**: 브라우저 UI 없이 깔끔
✅ **빠른 실행**: 탭하면 즉시 실행
✅ **멀티태스킹**: 앱 전환기에 표시
✅ **오프라인 준비**: 향후 Service Worker 추가 가능

## 실제 사용 경험

**Before (웹)**
1. 브라우저 열기
2. 주소창 탭
3. 검색 or 북마크
4. 주소창, 탭이 공간 차지

**After (PWA)**
1. 홈 화면 아이콘 탭
2. 즉시 실행!
3. 전체 화면 (브라우저 UI 없음)
4. 진짜 앱 같은 경험 🎉

→ 네이티브 앱과 동일한 사용자 경험!
